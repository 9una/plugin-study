<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../reset.css">
    <title>gsap scrollTrigger</title>

    <style>
        .wrap {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        }

        .side-scrolling-wrapper {
        position: relative;
        width: 100%;
        height: auto;
        display: block;
        }

        .side-scrolling-title {
        padding: 100px 0 50px;
        }

        .container {
        width: 500%;
        height: 300px;
        display: flex;
        flex-wrap: nowrap;
        gap: 50px;
        padding: 0px;
        overflow: hidden;
        }

        .panel {
        width: 300px;
        height: 300px;
        text-align: left;
        color: white;
        position: relative;
        overflow: hidden;
        }
        .panel img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        }
        .text {
        width: 800px;
        height: 300px;
        margin: auto;
        padding: 50px 0;
        }
    </style>
</head>
<body>
    <header>
        <h2>gsap scrollTrigger</h2>
    </header>

    <div class="wrap wrap1">
        <div class="side-scrolling-wrapper">

            <div class="side-scrolling-title">
                <div class="row center-xs">
                    <div class="col-xs-12">
                        <h1 class="fadeInUp">A cool title</h1>
                    </div>
                </div>
            </div>
            <div class="container">
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="row">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=A" alt="">
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=B" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=C" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=D" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=E" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <div class="text">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere voluptatem ducimus enim, numquam aliquid non eius. Repellendus fuga culpa sed dolorem inventore. Quisquam impedit voluptate odio commodi totam! Nihil, inventore? Tempore sed molestiae quae ea saepe recusandae dolorem veritatis incidunt velit dicta! Consectetur corrupti voluptatum, repudiandae ipsam sapiente libero dolor repellendus! Sequi voluptas quibusdam magni dolorum et. Reprehenderit ad corrupti, harum libero nobis, eius error quia deserunt incidunt eligendi numquam eaque nihil inventore itaque! Nam dolores a enim amet eligendi ullam molestias sapiente consectetur dicta magni perspiciatis culpa distinctio, officia esse. Ipsam distinctio mollitia nobis minus vero sed accusantium iste, blanditiis soluta ut ducimus, ratione quae officiis saepe ipsa debitis fuga, numquam ipsum eveniet itaque neque beatae. Corrupti quibusdam amet ducimus ipsam earum a explicabo repudiandae optio quisquam, veritatis voluptatibus vel eligendi debitis reiciendis, modi expedita aperiam sint asperiores harum laborum saepe delectus! Cum voluptate veritatis eos exercitationem! Doloribus beatae qui molestias delectus totam consequuntur est voluptas. Quam nisi laboriosam rem suscipit accusantium autem quibusdam sit voluptates voluptatum vero commodi quod debitis et, nemo eius, error laudantium cupiditate natus voluptas tenetur consequatur odit! Magnam quidem voluptas quibusdam reprehenderit vel asperiores dignissimos non dolor modi laudantium fugit aperiam aliquam incidunt cum error et, assumenda ab amet laboriosam reiciendis quos voluptatem! Tempora nemo tenetur sed dolor repellendus expedita voluptatum assumenda laudantium doloremque doloribus, inventore, quidem vitae nesciunt itaque neque quos quis quaerat corrupti, et repellat fuga eveniet ratione sunt! Cumque rem, numquam earum quaerat quis voluptate inventore deleniti temporibus perferendis architecto fugit maxime veritatis labore iste voluptatum, repellat dignissimos rerum! Laudantium quod, earum praesentium explicabo quae nesciunt distinctio est, repellendus voluptatum repellat vel quam nisi harum dolore consequuntur. Numquam doloribus porro eaque consequuntur error consectetur est natus. Saepe numquam et fugit sapiente maxime qui animi, quo unde odio doloribus voluptatem ea modi hic blanditiis ad in minima, illo quis magni voluptas rem rerum! Facere sapiente voluptatibus, quae magni vero optio aspernatur minima quibusdam eligendi. Sit repudiandae molestiae architecto praesentium saepe sequi similique fuga ut quos repellendus harum minus, odio tenetur dicta quibusdam, omnis magnam non esse consequuntur. Obcaecati quo soluta iusto minus libero cupiditate sapiente nesciunt placeat rem. Numquam amet facere iure eum doloribus tenetur ullam voluptates unde. Vero tenetur velit sed rerum saepe dolore enim nihil iste, debitis sint totam dicta optio aliquid est asperiores perspiciatis ipsa excepturi atque amet? Laudantium praesentium labore, iure assumenda nobis voluptatibus tempora odit blanditiis commodi necessitatibus placeat omnis eos possimus ducimus deleniti! Perferendis ipsa autem aliquid ducimus in, quibusdam reiciendis. Soluta aspernatur dicta accusamus. Ut minima dignissimos harum eligendi commodi repellendus omnis eos illum assumenda, incidunt pariatur deleniti nisi aliquid placeat, animi consequatur nam sed expedita error libero optio non quae autem? Enim nostrum provident repudiandae eum vitae optio quo corrupti, consequuntur et excepturi harum a maxime ducimus! Deserunt adipisci voluptatum sint ratione, neque iure omnis reiciendis cupiditate amet exercitationem consectetur dolorum cumque ea eius incidunt ipsa autem dolores dolor aut. Nostrum aliquid velit et fugiat at ea ullam, necessitatibus, autem nemo quaerat perferendis laborum.
    </div>
    <div class="wrap">
        <div class="side-scrolling-wrapper2">
            <div class="side-scrolling-title">
                <div class="row center-xs">
                    <div class="col-xs-12">
                        <h1 class="fadeInUp">B cool title</h1>
                    </div>
                </div>
            </div>
            <div class="container">
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="row">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=A" alt="">
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=B" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=C" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=D" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="margin-75px"></div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <img src="https://dummyimage.com/600x600/f1f1f1/454545.png&text=E" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="index.js"></script>
    <script type="text/javascript">
        gsap.registerPlugin(ScrollTrigger);

        let sections = gsap.utils.toArray(".side-scrolling-wrapper .container .panel");

        gsap.to(".side-scrolling-wrapper section", {
            xPercent: -100 * (sections.length - 3),
            scrollTrigger: {
                trigger: ".side-scrolling-wrapper",
                pin: true,
                markers: true,
                start: "top top",
                scrub: 1,
                end: () => "+=" + (document.querySelector(".wrap1 .container").offsetWidth / 5)
            }
        });

        gsap.to(".side-scrolling-wrapper2 section", {
            xPercent: -100 * (sections.length - 1),
            ease: "none",
            scrollTrigger: {
            trigger: ".side-scrolling-wrapper2",
            pin: true,
            start: "top +=10px",
            scrub: 1,
            end: () => "+=" + (document.querySelector(".container").offsetWidth / 5)
            }
        });
        
        const container = document.querySelector(".wrap1 .container").offsetWidth / 5;
        console.log("container : " + container);
        console.log("xPercent : " + -100 * (sections.length - 1));
        window.addEventListener('scroll', () => { 
            let y = window.scrollY;
            console.log(y);
        })
    </script>
</body>
</html>